<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h4 class="card-title">Uploaded message files</h4>
            </div>
            <div class="container card-body col-md-12">
                <ngx-skeleton-loader *ngIf="!groups.length" count="3"></ngx-skeleton-loader>
                <div class="text-center" *ngIf="groups.length == 0">
                    <img class="img-thumbnail" src="/assets/img/svg/no_data.svg" alt="no_data">
                </div>
                <div id="accordion" class="row gx-5" role="tablist">
                    <div class="col-md-4" *ngFor="let group of groups; let i = index">
                        <div class="card-collapse">
                            <div class="card-header" role="tab" id="heading-{{ i }}">
                                <div class="header-collapse">
                                    <h5 id="txt-custom-name-{{i}}" class="mb-0">{{ group.custom_name }}</h5>
                                    <input id="input-edit-{{i}}" class="input-edit-name"
                                           value="{{group.custom_name}}" (keyup.enter)="saveName(i)"/>
                                    <a href="javascript:void(0)">Total Messages: {{group.total_messages}}</a>
                                    <a class="icon-save" (click)="saveName(i)">
                                        <i class="material-icons">save</i>
                                    </a>
                                    <a class="icon-edit" (click)="editName(i)">
                                        <i class="material-icons">edit</i>
                                    </a>
                                    <a data-toggle="collapse"
                                       href="#collapse-{{ i }}"
                                       aria-expanded="false"
                                       aria-controls="collapse-{{ i }}"
                                       class="collapsed">
                                        <i class="material-icons">keyboard_arrow_down</i>
                                    </a>
                                </div>
                            </div>
                            <div
                                    id="collapse-{{ i }}"
                                    class="collapse"
                                    role="tabpanel"
                                    aria-labelledby="heading-{{ i }}"
                                    data-parent="#accordion"
                            >
                                <div class="card-body">
                                    <p>{{ group.id }}</p>
                                    <button
                                            class="btn btn-dark"
                                            (click)="viewGroupMessages($event, group.id)"
                                    >
                                        View
                                    </button>
                                    <button
                                            class="btn btn-success"
                                            (click)="downloadGroupMessages($event, group.id!)"
                                    >
                                        Download
                                    </button>
                                    <button
                                            class="btn btn-danger"
                                            [attr.id]="group.id"
                                            (click)="deleteGroupMessages($event, group.id)"
                                    >
                                        Delete
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
